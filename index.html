<!doctype html public "restrooms are gross">
<meta charset="utf-8">
<title>ic-modal demo</title>
<link rel="stylesheet" href="http://instructure.github.io/ic-ember/shared/styles.css">
<style>
ic-modal[is-open].fade-in {
  opacity: 0;
  transition: opacity 150ms ease;
}

ic-modal[after-open].fade-in {
  opacity: 1;
}

</style>

<header class="branding padbox">
  <h1>{{ic-modal}}</h1>
  <h2>an accessible ember modal component</h2>
  <p>By <a target="_top" href="http://instructure.com">Instructure, Inc</a></p>
</header>

<a class="source-link" href="https://github.com/instructure/ic-modal/blob/gh-pages/index.html">Demo Source</a>

<a target="_top" href="https://github.com/instructure/ic-modal"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github-camo.global.ssl.fastly.net/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>

<div id="demo" class="padbox"></div>

<script type="text/x-handlebars">
{{#ic-modal-trigger controls="the-modal"}}
  open modal with default title and close
{{/ic-modal-trigger}}

{{#ic-modal-trigger controls="the-other-modal"}}
  open model with custom title, close, and css animation
{{/ic-modal-trigger}}


{{#ic-modal
  id="the-modal"
  close-when=formWasSubmitted
}}
  <p>Go ahead, tab around in here, even do weird shortcuts to your
  address bar and tab from the browser chrome back to the window</p>

  <form {{action "submitForm" on="submit"}}>
    <p>
      <input>
      <select><option>hello</option></select>
    </p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>
      <button type="submit">submit</button>
    </p>
  </form>

{{/ic-modal}}

{{#ic-modal id="the-other-modal" class="fade-in"}}
  {{#ic-modal-title}}I am the other modal{{/ic-modal-title}}
  {{#ic-modal-trigger aria-label="close other modal"}}CLOSE{{/ic-modal-trigger}}

  <p>
    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </p>

{{/ic-modal}}

<p>
  <input placeholder="should not tab here if modal is open" size=50>
  <button>same here</button>
</p>

<ul>
  <li>Follows WAI-ARIA guidelines for the dialog role</li>
  <li>click outside will close the modal</li>
  <li>esc will close the modal</li>
  <li>tab navigation inside the modal is scoped to the modal so keyboard
  users wonâ€™t lose their place</li>
  <li>focus returns to the trigger when the modal is closed</li>
</ul>


</script>

<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="bower_components/handlebars/handlebars.js"></script>
<script src="bower_components/ember/ember.js"></script>
<script src="bower_components/ic-styled/main.js"></script>
<script src="bower_components/ic-modal/dist/globals/main.js"></script>
<script>
  App = Ember.Application.create({ rootElement: '#demo' });
  App.ApplicationController = Ember.Controller.extend({
    formWasSubmitted: false,
    actions: {
      submitForm: function() {
        this.set('formWasSubmitted', true);
      }
    }
  });
</script>
